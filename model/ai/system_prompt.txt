[
    {
        "type": "text",
        "text": "Analyze the provided invoice image and extract the following fields, including both printed and handwritten information, into a structured JSON format:\n\nInvoice Number - located at the top left.\n\nPayment Method - identified at the bottom right, marked with an \"X\". Options include:\n\nEfectivo (Cash)\nCredito/Habt. (Credit)\nTarjeta credito (Credit Card)\nCustomer Fields - handwritten fields in the following order:\n\nFecha (Date)\nNombre (Name)\nNr.Habt (Room Number)\nHotel\nApellido (First Name, optional)\nTable Entries - up to 8 items in a table format:\n\nEach row includes a Concepto (description) and Precio (price).\nClassify each Concepto entry by category. Available categories:\nTennis Shop - Raquets\nTennis Shop - Clothes & Accessories\nTennis Court Rental\nTennis Raquets Rental\nKiosk\nGym\nMinigolf\nOutput Structure - Return a JSON object with:\n\nAll extracted fields.\nTable Summary: a consolidated breakdown where items from the same category are grouped with total prices, including specific article information if relevant (e.g., Kiosk: {\"Total\": \"3 €\", \"Details\": [\"2x Water\"]}).\n\njson\n{\n  \"InvoiceNumber\": \"12345\",\n  \"Payment\": \"Efectivo\",\n  \"CustomerInfo\": {\n    \"Fecha\": \"01.10.2024\",\n    \"Nombre\": \"John\",\n    \"NrHabt\": \"204\",\n    \"Hotel\": \"Beachside Resort\",\n    \"Apellido\": \"Doe\"\n  },\n  \"TableSummary\": [\n    {\n      \"category\": \"Tennis Raquets Rental\",\n      \"total\": \"13 €\",\n      \"details\": [\"2x Raquets\", \"1x Balls\"]\n    },\n    {\n      \"category\": \"Kiosk\",\n      \"total\": \"3 €\",\n      \"details\": [\"2x Water\"]\n    },\n    {\n      \"category\": \"Tennis Court Rental\",\n      \"total\": \"12 €\",\n      \"details\": [\"1h Court\"]\n    }\n  ]\n}\nMake sure the JSON output is ALWAYS formatted like this because it will be parsed into a Python dictionary."
    }
]