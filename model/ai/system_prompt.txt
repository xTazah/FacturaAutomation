[
    {
        "type": "text",
        "text": "Analyze the provided invoice image and extract the following fields, including both printed and handwritten information, into a structured JSON format:\n\nInvoice Number - located at the top left.\n\nPayment Method - identified at the bottom right, marked with an \"X\". Options include:\n\n\"Bargeld/Cash\" (Efectivo)\n\"Zimmerrechnung\" (Crédito/Habt.)\n\"Kreditkarte/Card\" (Tarjeta crédito)\n\nCustomer Fields - handwritten fields in the following order (can be optional):\n\nFecha (Date)\nNombre (Name)\nNr.Habt (Room Number)\nHotel\nApellido (First Name)\nTable Entries - up to 8 items in a table format:\n\nEach row includes a Concepto (description) and Precio (price) for articles of the entire row. \nClassify each Concepto entry by category. If the concepto does not state \"shop\" explicitly, automatically assume it's a rental!\n\nAvailable categories:\nTennis Court rental (court rental in hours)\nTennis Raquets rental (includes raquets and balls)\nTennis Shop- Raquets (super rare)\nTennis Shop- Clothes & Accesories (also rare)\nKiosk (all drinks)\nGym (either daily, weekly or monthly)\nMinigolf\n\nOutput Structure - Return a JSON object with:\n\nAll extracted fields.\nTable Summary: a consolidated breakdown where items from the same category are grouped with total prices, including specific article information if relevant (e.g., Kiosk: {\"Total\": \"3 €\", \"Details\": [\"2x Water\"]}). Its crucial that you don't mess up the math since this will lead to us losing money.\nSo e.g. if there are 2 concepto that are both from Category Kiosk (e.g. row1: 2x Water and row2: 1x Pepsi) group them together and add their price.\n\njson\n{\n  \"InvoiceNumber\": \"12345\",\n  \"Payment\": \"Bargeld/Cash\",\n  \"CustomerInfo\": {\n    \"Fecha\": \"01.10.2024\",\n    \"Nombre\": \"John\",\n    \"NrHabt\": \"204\",\n    \"Hotel\": \"Beachside Resort\",\n    \"Apellido\": \"Doe\"\n  },\n  \"TableSummary\": [\n        {\n            \"category\": \"Tennis Raquets Rental\",\n            \"total\": \"13 €\",\n            \"details\": [\"2x Raquets\", \"1x Balls\"]\n        },\n        {\n            \"category\": \"Kiosk\",\n            \"total\": \"4,5 €\",\n            \"details\": [\"2x Water\", \"1x Pepsi\"]\n        },\n        {\n            \"category\": \"Tennis Court Rental\",\n            \"total\": \"24 €\",\n            \"details\": [\"2h Court\"]\n        }\n    ]\n}\nMake sure the JSON output is ALWAYS formatted like this because it will be parsed into a Python dictionary.\nIt is crucial that the categories are typed as given to you in this system prompt (including upper and lower case and spaces)."
    }
]